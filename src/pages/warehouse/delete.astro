---
import { turso } from "src/turso";

// Extract warehouseID from the query parameters
const warehouseID = Astro.url.searchParams.get("warehouseID");
console.log(warehouseID)
// Validate warehouseID
if (!warehouseID) {
  throw new Error("No warehouseID provided for update.");
}

const id = parseInt(warehouseID, 10);
if (isNaN(id)) {
  throw new Error("Invalid warehouseID provided.");
}

await turso.execute(`UPDATE Warehouses SET statusID = 11 WHERE warehouseID = ${id}`);

return Astro.redirect('/warehouse');
---
